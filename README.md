# 2022_2_BIGCONTEST
앱 사용성데이터를 통한 대출신청 예측분석

# 목차
- 문제 정의
- 활용 데이터
- 데이터 전처리 및 EDA
- 분석과정 및 결과
- 핀다 앱 고객분석

# 문제 정의
  금융기관과 고객 사이의 정보의 비대칭성
  
  고객은 다양한 조건의 상품을 알기 어렵고, 금융기관 또한 고객이 서류를 제출하기 전까지 고객을 파악하기 어렵다. 
  
  -> 앱 사용성 데이터를 통한 대출신청 예측을 통해 고객의 선호도를 파악하여 고객에게 수요 맞춤형 상품을 추천할 수 있고, 시장에서 원하는 대출 상품을 개발할 수 있다. 
  
## 분석 목표

1. 대출상품 신청여부 예측
   핀다 앱 사용자 데이터 기반으로 어떤 고객이, 어떤 대출 상품을 신청할지 예측
   
2. 고객의 특성 분석
   대출신청, 미신청 고객을 분류하여 고객의 특성을 분석
   -핀다 앱에는 어떤 고객이 있는지, 대출신청한 고객과 안 한 고객의 차이는?, 대출신청한 고객들은 어떻게 나누어지는가?

# 활용 데이터

  * 유저 로그 데이터
    핀다 앱 유저가 앱을 사용한 활동 기록
    
  * 유저 스펙 데이터
    대출 신청서를 작성한 유저의 정보
    
  * 대출상품 결과 데이터
    신청서를 바탕으로 추천된 금융상품 목록과 해당 유저의 대출 신청 여부(target)
    
  * 외부 데이터
  
    -네이버 검색 데이터 : 성별, 연령별, 디바이스별 데이터
                      핀다, 대출, 신용대출, 금리비교 등 26개 단어 키워드
                      
    -COFIX : 코픽스 금리 데이터
    
    -CPI : 각 가정이 생활을 위해 구입하는 상품과 서비스의 가격변동을 나타내는 지수 데이터
    
    -공휴일 데이터 : 공휴일 데이터


# 데이터 전처리 및 EDA

## 이상치 처리
- 개인회생자 변수 : 개인회생자 여부를 묻는 항목이 핀다 어플에서 4월 18일 이후부터 생성되었기 때문에, 날짜를 고려해서 이상치 처리
- birth year & company enter month : 나이보다, 근속연수가 많다고 나타나는 경우, 이상치로 처리
- 승인한도, 승인금리가 결측인 경우 금융사에서 값을 보내지 않은 것으로 생각하고 분석에서 제외

## 결측치 처리
- 결측치 처리는 유저 스펙 데이터 내에서 처리가 가능한 경우와, 불가능한 경우로 나누어진다.

  즉, 동일 유저의 경우, 같은 유저의 이전 또는 이후에 해당 값이 있을 경우 그 값으로 대체 (test 데이터에서는 해당 일 기준 이전의 값으로만 대체)

- 유저 스펙 데이터 내에서 처리가 가능한 경우 먼저 처리한 다음, 이외 결측치는 논리적으로 추가 처리를 하였다. 

  ex) 신용 점수 : 유저별 평균으로 먼저 처리한 후, 남은 결측치는 XGBOOST modeling을 통해 처리

## 파생변수
  - loan_income_ratio : 소득에 비해 남은 대출금액을 나타내는 변수(기대출금액 / 연소득) 
   
  - product_popularity : 해당 상품의 선호도를 나타내는 변수. 
      (이전까지 해당 상품이 실제로 신청된 횟수 / 이전까지 해당 상품이 유저들에게 추천된 횟수)
      
  - Bank_popularity : 해당 금융사의 선호도를 나타내는 변수
      (이전까지 해당 금융사의 상품이 실제로 신청된 횟수 / 이전까지 해당 금융사의 상품이 유저들에게 추천된 횟수)
      
  - Loan_rate_rank : 동일 신청서 내에서 금리가 낮은 순서대로 정렬했을 때의 순위
  
  - Loan_limit_rank : 동일 신청서 내에서 대출 한도가 높은 순서대로 정렬했을 때의 순위
  
## log data의 "session" 나누기
- 유저가 30분 이상 어떤 활동도 하지 않는 경우, 세션은 종료되었다고 정의
- 자정이 되고 날짜가 바뀌는 순간 세션이 종료되었다고 정의
- 같은 유저가 같은 날, 같은 시각에 같은 행동이 연속적으로 여러 번 기록되어 있는 경우, 중복으로 기록된 것이라고 판단하여 제거 

  -> 이러한 session 이라는 기준을 활용하여 여러 파생변수를 생성

##EDA

# 분석과정 및 결과

# 핀다 앱 고객분석
